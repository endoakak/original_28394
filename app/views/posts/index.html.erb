<h1>投稿一覧ページ</h1>

<%= link_to "トップへ", root_path %><br />
<% if user_signed_in? %>
  <%= link_to "ログアウト", destroy_user_session_path, method: :delete %>
  <%= link_to "新規投稿", new_post_path %>
  <%= link_to "マイページ", users_show_path %>
<% else %>
  <%= link_to "新規登録", new_user_registration_path %>
  <%= link_to "ログイン", new_user_session_path %>
<% end %>

<% @posts.each do |post| %>
<div class="post-wrapper">
  <% if user_signed_in? && post.user_id == current_user.id %>
    <%= link_to "編集する", edit_post_path(post.id), class:"post-edit-btn" %>
    <%= link_to "この投稿を削除する", post_path(post.id), method: :delete, class:"post-delete-btn" %>
  <% end %>
  <%= link_to post_path(post.id), class:"post-link" do %>
  <div class="post-title">
    タイトル：<%= post.title %>
  </div>
  <div class="post-spoiler">
    <% if post.spoiler %>
      ネタバレあり
    <% else %>
      ネタバレなし
    <% end %>
  </div>
  <div class="post-category">
    カテゴリー：<%= post.category.name %>
  </div>
  <div class="post-content">
    本文：<%= post.content %>
  </div>
  <% end %>
</div>
<% end %>